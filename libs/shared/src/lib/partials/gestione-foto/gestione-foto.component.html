<div class="gestione-foto">
  <div class="dettaglio" (click)="seleziona()">
    <div
      *ngIf="fotoAsset[0]"
      [class.shape]="labelAsta"
      [class.detail-img]="!labelAsta"
      [class.border-title]="labelAsset"
      [title]="labelAsset + ' - foto '"
      style="background: url('{{ urlBase | bffimage: fotoPrincipale | async }}') no-repeat center/cover"
    ></div>
    <div
      *ngIf="!fotoAsset[0]"
      [class.shape]="labelAsta"
      [class.detail-img]="!labelAsta"
      [class.border-title]="labelAsset"
      [title]="labelAsset + ' - Nessuna Foto'"
      style="background: url('{{ idFoto }}') no-repeat center/cover"
    ></div>

    <div *ngIf="labelAsset" class="label-asset ps-2">{{ labelAsset }}</div>
    <div *ngIf="labelAsta" class="label-asta">
      {{ labelAsta }}
    </div>
    <div *ngIf="labelPrezzoBase" class="label-prezzo-base">Prezzo base {{ labelPrezzoBase | currency: 'EUR' }}</div>
  </div>
  <ng-container *ngIf="fotoDaVisualizzare.length > 0">
    <div class="row my-2 mx-0 justify-content-center" style="position: relative">
      <div eafClickFromKeyboard class="left-control carousel-control" (click)="moveCarousel(-1)">
        <i class="fas fa-chevron-left"></i>
      </div>
      <div eafClickFromKeyboard class="right-control carousel-control" (click)="moveCarousel(1)">
        <i class="fas fa-chevron-right"></i>
      </div>

      <ng-container *ngFor="let foto of fotoDaVisualizzare; let i = index">
        <div
          eafClickFromKeyboard
          role="button"
          (click)="cambiaFoto(foto)"
          class="col foto"
          [title]="labelAsset + ' - foto ' + (i + 1)"
          style="background: url('{{ urlBase | bffimage: foto | async }}') no-repeat center/contain"
        ></div>
      </ng-container>
    </div>
  </ng-container>
</div>
